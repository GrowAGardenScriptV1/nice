local ReplicatedStorage = game:GetService("ReplicatedStorage")
local EggChosenEvent = ReplicatedStorage:WaitForChild("EggChosen")
local ServerStorage = game:GetService("ServerStorage")

local eggPets = {
    ["Basic Egg"] = {"Dog", "Cat", "Bunny"},
    ["Mystic Egg"] = {"Dragon", "Phoenix", "Unicorn"},
    ["Forest Egg"] = {"Deer", "Fox", "Owl"},
    ["Ocean Egg"] = {"Shark", "Dolphin", "Turtle"},
}

EggChosenEvent.OnServerEvent:Connect(function(player, eggName)
    local petOptions = eggPets[eggName]
    if petOptions then
        local petName = petOptions[math.random(1, #petOptions)]
        local petModel = ServerStorage:FindFirstChild("Pets"):FindFirstChild(petName)
        if petModel then
            local clone = petModel:Clone()
            clone.Parent = workspace
            clone:SetPrimaryPartCFrame(player.Character.HumanoidRootPart.CFrame * CFrame.new(3,0,0))
        else
            warn("Pet model not found:", petName)
        end
    end
end)
